<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
  <script>
    const dogs = [
      { weight: 22, curFood: 250, owners: ['Alice', 'Bob'] },
      { weight: 8, curFood: 200, owners: ['Matilda'] },
      { weight: 13, curFood: 275, owners: ['Sarah', 'John'] },
      { weight: 32, curFood: 340, owners: ['Michael'] },
    ];
    // 1. Tính toán lượng thức ăn khuyến nghị (recommendedFood)
    // Công thức: weight ** 0.75 * 28
    dogs.forEach(dog => (dog.recFood = Math.trunc(dog.weight ** 0.75 * 28)));

    // 2. Tìm chó của Sarah và kiểm tra chế độ ăn
    const dogSarah = dogs.find(dog => dog.owners.includes('Sarah'));
    console.log(
      `Sarah's dog is eating too ${
        dogSarah.curFood > dogSarah.recFood ? 'much' : 'little'
      }`
    );

    // 3. Tạo mảng chủ của những chú chó ăn quá nhiều hoặc quá ít
    const ownersEatTooMuch = dogs
      .filter(dog => dog.curFood > dog.recFood)
      .flatMap(dog => dog.owners);

    const ownersEatTooLittle = dogs
      .filter(dog => dog.curFood < dog.recFood)
      .flatMap(dog => dog.owners);

    // 4. In ra thông báo từ danh sách chủ vừa tạo
    // "Matilda and Alice and Bob's dogs eat too much!"
    console.log(`${ownersEatTooMuch.join(' and ')}'s dogs eat too much!`);
    console.log(`${ownersEatTooLittle.join(' and ')}'s dogs eat too little!`);

    // 5. Kiểm tra xem có chú chó nào ăn CHÍNH XÁC lượng khuyến nghị không (true/false)
    console.log(dogs.some(dog => dog.curFood === dog.recFood));

    // 6. Kiểm tra xem có chú chó nào ăn ở mức ỔN ĐỊNH không (true/false)
    // Okay: curFood > (recFood * 0.9) && curFood < (recFood * 1.1)
    const checkEatingOkay = dog =>
      dog.curFood > dog.recFood * 0.9 && dog.curFood < dog.recFood * 1.1;

    console.log(dogs.some(checkEatingOkay));

    // 7. Tạo mảng chứa các chú chó đang ăn ở mức ổn định
    const dogsEatingOkay = dogs.filter(checkEatingOkay);
    console.log(dogsEatingOkay);

    // 8. Tạo bản sao và sắp xếp theo lượng thức ăn khuyến nghị tăng dần
    const dogsSorted = dogs.slice().sort((a, b) => a.recFood - b.recFood);
    console.log(dogsSorted);
  </script>
</body>

</html>